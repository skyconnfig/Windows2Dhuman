# æ•°å­—äººå”‡å½¢ä¼˜åŒ–é¡¹ç›®ä¾èµ–å®‰è£…è¯´æ˜

## å¿«é€Ÿå®‰è£…

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨è‡ªåŠ¨å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰

**Windowsç”¨æˆ·ï¼š**
```bash
# è¿è¡Œæ‰¹å¤„ç†è„šæœ¬
install_dependencies.bat
```

**æ‰€æœ‰å¹³å°ç”¨æˆ·ï¼š**
```bash
# è¿è¡ŒPythonå®‰è£…è„šæœ¬
python install_dependencies.py
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…

```bash
# 1. å‡çº§pip
python -m pip install --upgrade pip

# 2. å®‰è£…åŸºç¡€ä¾èµ–
pip install -r requirements.txt

# 3. å®‰è£…é¢å¤–ä¾èµ–
pip install audiomentations>=0.30.0 dominate>=2.6.0 librosa>=0.9.0 thop>=0.1.1 psutil>=5.9.0 imageio>=2.25.0 beautifulsoup4>=4.11.0
```

## ä¾èµ–åŒ…è¯¦ç»†è¯´æ˜

### æ ¸å¿ƒæ¡†æ¶ä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|------|--------|
| **torch** | 2.8.0+cpu | PyTorchæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ¨¡å‹è®­ç»ƒå’Œæ¨ç†çš„æ ¸å¿ƒ | ğŸ”´ å¿…éœ€ |
| **torchvision** | 0.23.0+cpu | è®¡ç®—æœºè§†è§‰å·¥å…·åŒ…ï¼Œæä¾›é¢„è®­ç»ƒæ¨¡å‹å’Œå˜æ¢ | ğŸ”´ å¿…éœ€ |
| **torchaudio** | 2.8.0+cpu | éŸ³é¢‘å¤„ç†å·¥å…·åŒ…ï¼ŒéŸ³é¢‘ç‰¹å¾æå– | ğŸ”´ å¿…éœ€ |
| **gradio** | 4.16.0 | Webç•Œé¢æ¡†æ¶ï¼Œæä¾›ç”¨æˆ·äº¤äº’ç•Œé¢ | ğŸ”´ å¿…éœ€ |
| **fastapi** | 0.104.1 | é«˜æ€§èƒ½Web APIæ¡†æ¶ | ğŸŸ¡ é‡è¦ |

### è®¡ç®—æœºè§†è§‰ä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|------|--------|
| **opencv-python** | 4.8.1.78 | è®¡ç®—æœºè§†è§‰åº“ï¼Œå›¾åƒå¤„ç†å’Œè§†é¢‘å¤„ç† | ğŸ”´ å¿…éœ€ |
| **opencv-contrib-python** | 4.11.0.86 | OpenCVæ‰©å±•æ¨¡å— | ğŸŸ¡ é‡è¦ |
| **mediapipe** | 0.10.7 | äººè„¸æ£€æµ‹å’Œå…³é”®ç‚¹æå– | ğŸ”´ å¿…éœ€ |
| **pillow** | 10.4.0 | å›¾åƒå¤„ç†åº“ | ğŸ”´ å¿…éœ€ |
| **imageio** | >=2.25.0 | å›¾åƒå’Œè§†é¢‘IOæ“ä½œ | ğŸŸ¡ é‡è¦ |

### éŸ³é¢‘å¤„ç†ä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|------|--------|
| **librosa** | >=0.9.0 | éŸ³é¢‘åˆ†æå’Œç‰¹å¾æå– | ğŸ”´ å¿…éœ€ |
| **sounddevice** | 0.5.2 | éŸ³é¢‘è®¾å¤‡è®¿é—®å’Œæ’­æ”¾ | ğŸŸ¡ é‡è¦ |
| **pydub** | 0.25.1 | éŸ³é¢‘æ ¼å¼è½¬æ¢å’Œå¤„ç† | ğŸŸ¡ é‡è¦ |
| **audiomentations** | >=0.30.0 | éŸ³é¢‘æ•°æ®å¢å¼º | ğŸŸ¢ å¯é€‰ |
| **kaldi-native-fbank** | 1.21.4 | éŸ³é¢‘ç‰¹å¾æå–ï¼ˆFbankï¼‰ | ğŸ”´ å¿…éœ€ |

### ç§‘å­¦è®¡ç®—ä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|------|--------|
| **numpy** | 1.26.4 | æ•°å€¼è®¡ç®—åŸºç¡€åº“ | ğŸ”´ å¿…éœ€ |
| **scipy** | 1.16.1 | ç§‘å­¦è®¡ç®—åº“ | ğŸ”´ å¿…éœ€ |
| **scikit-learn** | 1.7.1 | æœºå™¨å­¦ä¹ ç®—æ³•åº“ | ğŸŸ¡ é‡è¦ |
| **pandas** | 2.3.2 | æ•°æ®å¤„ç†å’Œåˆ†æ | ğŸŸ¡ é‡è¦ |
| **matplotlib** | 3.10.6 | æ•°æ®å¯è§†åŒ– | ğŸŸ¢ å¯é€‰ |

### å·¥å…·å’Œè¾…åŠ©ä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|------|--------|
| **tqdm** | 4.67.1 | è¿›åº¦æ¡æ˜¾ç¤º | ğŸŸ¡ é‡è¦ |
| **thop** | >=0.1.1 | æ¨¡å‹å¤æ‚åº¦åˆ†æ | ğŸŸ¢ å¯é€‰ |
| **psutil** | >=5.9.0 | ç³»ç»Ÿèµ„æºç›‘æ§ | ğŸŸ¢ å¯é€‰ |
| **dominate** | >=2.6.0 | HTMLæ–‡æ¡£ç”Ÿæˆ | ğŸŸ¢ å¯é€‰ |
| **beautifulsoup4** | >=4.11.0 | HTMLè§£æ | ğŸŸ¢ å¯é€‰ |

### 3Då›¾å½¢å’Œæ¸²æŸ“ä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|------|--------|
| **PyOpenGL** | 3.1.10 | OpenGLç»‘å®šï¼Œ3Dæ¸²æŸ“ | ğŸŸ¡ é‡è¦ |
| **glfw** | 2.9.0 | çª—å£ç®¡ç†å’Œè¾“å…¥å¤„ç† | ğŸŸ¡ é‡è¦ |
| **pyglm** | 2.8.2 | 3Dæ•°å­¦åº“ | ğŸŸ¡ é‡è¦ |

## å®‰è£…æ³¨æ„äº‹é¡¹

### ç³»ç»Ÿè¦æ±‚

- **Pythonç‰ˆæœ¬**: 3.9-3.11ï¼ˆæ¨è3.10ï¼‰
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, Ubuntu 18.04+, macOS 10.15+
- **å†…å­˜**: è‡³å°‘8GB RAM
- **å­˜å‚¨**: è‡³å°‘5GBå¯ç”¨ç©ºé—´
- **GPU**: å¯é€‰ï¼Œæ”¯æŒCUDA 11.8+

### Windowsç‰¹æ®Šè¦æ±‚

1. **Visual C++ Redistributable**
   ```
   ä¸‹è½½å¹¶å®‰è£…: Microsoft Visual C++ 2019-2022 Redistributable
   é¡¹ç›®ä¸­åŒ…å«: vc_redist_x64.exe
   ```

2. **éŸ³é¢‘é©±åŠ¨**
   - ç¡®ä¿ç³»ç»ŸéŸ³é¢‘é©±åŠ¨æ­£å¸¸å·¥ä½œ
   - æŸäº›åŠŸèƒ½éœ€è¦éº¦å…‹é£å’Œæ‰¬å£°å™¨æƒé™

### å¸¸è§å®‰è£…é—®é¢˜

#### 1. MediaPipeå®‰è£…å¤±è´¥
```bash
# è§£å†³æ–¹æ¡ˆ1: é™çº§Pythonç‰ˆæœ¬
python --version  # ç¡®ä¿æ˜¯3.9-3.11

# è§£å†³æ–¹æ¡ˆ2: ä½¿ç”¨é¢„ç¼–è¯‘ç‰ˆæœ¬
pip install mediapipe --no-deps
pip install opencv-python numpy protobuf
```

#### 2. PyTorchå®‰è£…é—®é¢˜
```bash
# CPUç‰ˆæœ¬ï¼ˆé»˜è®¤ï¼‰
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu

# GPUç‰ˆæœ¬ï¼ˆå¦‚æœæœ‰NVIDIA GPUï¼‰
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

#### 3. éŸ³é¢‘åº“å®‰è£…é—®é¢˜
```bash
# Linuxç”¨æˆ·å¯èƒ½éœ€è¦å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt-get install libsndfile1 ffmpeg

# macOSç”¨æˆ·
brew install ffmpeg
```

#### 4. OpenGLç›¸å…³é—®é¢˜
```bash
# å¦‚æœé‡åˆ°OpenGLé”™è¯¯ï¼Œå°è¯•å®‰è£…Mesa
# Linux:
sudo apt-get install mesa-utils

# Windows: æ›´æ–°æ˜¾å¡é©±åŠ¨
```

### éªŒè¯å®‰è£…

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯å…³é”®ç»„ä»¶ï¼š

```python
# éªŒè¯è„šæœ¬
python -c "
import torch; print(f'PyTorch: {torch.__version__}')
import cv2; print(f'OpenCV: {cv2.__version__}')
import mediapipe; print(f'MediaPipe: {mediapipe.__version__}')
import gradio; print(f'Gradio: {gradio.__version__}')
import librosa; print(f'Librosa: {librosa.__version__}')
print('âœ… æ‰€æœ‰æ ¸å¿ƒä¾èµ–å®‰è£…æˆåŠŸï¼')
"
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **GPUåŠ é€Ÿ**ï¼ˆå¯é€‰ï¼‰
   ```bash
   # å¦‚æœæœ‰NVIDIA GPUï¼Œå®‰è£…CUDAç‰ˆæœ¬
   pip uninstall torch torchvision torchaudio
   pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
   ```

2. **å†…å­˜ä¼˜åŒ–**
   - å…³é—­ä¸å¿…è¦çš„åº”ç”¨ç¨‹åº
   - å¢åŠ è™šæ‹Ÿå†…å­˜ï¼ˆWindowsï¼‰
   - ä½¿ç”¨SSDå­˜å‚¨æå‡IOæ€§èƒ½

3. **ç½‘ç»œä¼˜åŒ–**
   ```bash
   # ä½¿ç”¨å›½å†…é•œåƒæºåŠ é€Ÿå®‰è£…
   pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
   ```

## æ•…éšœæ’é™¤

### å¦‚æœå®‰è£…å¤±è´¥

1. **æ¸…ç†ç¯å¢ƒ**
   ```bash
   pip cache purge
   pip install --upgrade pip setuptools wheel
   ```

2. **é€ä¸ªå®‰è£…**
   ```bash
   # æŒ‰é‡è¦æ€§é€ä¸ªå®‰è£…ï¼Œå®šä½é—®é¢˜åŒ…
   pip install torch torchvision torchaudio
   pip install opencv-python
   pip install mediapipe
   pip install gradio
   # ... ç»§ç»­å…¶ä»–åŒ…
   ```

3. **ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ**
   ```bash
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # Linux/macOS
   source venv/bin/activate
   
   pip install -r requirements.txt
   ```

### è·å–å¸®åŠ©

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼š

1. æ£€æŸ¥Pythonç‰ˆæœ¬å’Œç³»ç»Ÿå…¼å®¹æ€§
2. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. æœç´¢ç›¸å…³é”™è¯¯è§£å†³æ–¹æ¡ˆ
4. è€ƒè™‘ä½¿ç”¨Dockerå®¹å™¨åŒ–éƒ¨ç½²

---

**é‡è¦æç¤º**: é¦–æ¬¡å®‰è£…å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼ˆ10-30åˆ†é’Ÿï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚å»ºè®®åœ¨ç¨³å®šçš„ç½‘ç»œç¯å¢ƒä¸‹è¿›è¡Œå®‰è£…ã€‚